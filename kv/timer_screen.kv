#:kivy 2.3.1
#:include kv/navigation_panel.kv

<TimerScreen>:
    NavigationPanel:
        id: nav_panel
        name: "timer_screen"

        MDAnchorLayout:
            orientation: "vertical"
            anchor_x: "center"
            anchor_y: "center"
            md_bg_color: app.theme_cls.secondaryContainerColor

            # Центральный блок таймера
            MDBoxLayout:
                orientation: "vertical"
                size_hint: None, None
                size: "310dp", "200dp"
                md_bg_color: app.theme_cls.surfaceColor
                radius: [20]
                elevation: 4
                padding: "16dp"
                spacing: "12dp"

                # Заголовок блока таймера (слева вверху)
                MDBoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: "24dp"
                    spacing: "4dp"

                    MDLabel:
                        id: title_label
                        text: "Таймер"
                        halign: "left"
                        valign: "center"
                        role: "small"

                    MDLabel:
                        id: type_timer_label
                        text: "Помидор"
                        halign: "right"
                        valign: "center"
                        role: "small"

                # Крупный таймер
                MDLabel:
                    id: time_label
                    text: "00:00:00"
                    halign: "center"
                    valign: "center"
                    font_style: "Display"
                    role: "large"

                # Кнопки
                MDBoxLayout:
                    orientation: "horizontal"
                    size_hint_y: None
                    height: "48dp"
                    spacing: "12dp"
                    pos_hint: {"center_x": .5}

                    MDButton:
                        style: "outlined"
                        id: start_button
                        on_release: root.start_timer()
                        theme_line_color: "Custom"
                        line_color: 0, 1, 0, 1 

                        MDButtonText:
                            text: "Старт"

                    MDButton:
                        style: "outlined"
                        id: pause_button
                        on_release: root.pause_timer()
                        opacity: 0
                        disabled: True
                        theme_line_color: "Custom"
                        line_color: 1, 1, 0, 1

                        MDButtonText:
                            text: "Пауза"

                    MDButton:
                        style: "outlined"
                        id: stop_button
                        on_release: root.stop_timer()
                        opacity: 0
                        disabled: True
                        theme_line_color: "Custom"
                        line_color: 1, 0, 0, 1

                        MDButtonText:
                            text: "Стоп"
